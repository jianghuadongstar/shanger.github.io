<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>文字滚动</title><style>*{margin:0;padding:0}body{width:100%;overflow-x:hidden}.container{position:relative;height:20px}.container>div{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background-color:#fff}.container>div:nth-of-type(2){z-index:2;display:none}.below,.loop{display:inline-block;position:absolute;line-height:20px;font-size:16px;top:0;right:0;font-family:"Microsoft Yahei";z-index:1;white-space:nowrap}.below{z-index:2}</style></head><body id="app"><div class="container"><div><p class="below">因为它会确保条件块在切换当中合适地销毁与重建条件块内的事件监听器和子组件。</p></div><div><p class="loop">来啦来啦来啦来啦来啦来啦</p></div></div><script>function marquee(t,e){function r(t){var e=t.offsetWidth;t.style.width=e+"px",t.style.right=-e+"px";var r=null,o=1;r=setInterval(function(){var i=t.offsetLeft;if(i<=-e)t.style.right=-e+"px",document.querySelector(".container > div:nth-of-type(2)").style.display="block",l(n),clearInterval(r);else{var a=parseInt(t.style.right);t.style.right=a+o+"px"}},10)}function l(t){var e=t.offsetWidth;t.style.width=e+"px",t.style.right=-e+"px";var l=null,n=1;l=setInterval(function(){var i=t.offsetLeft;if(i<=-e)t.style.right=-e+"px",clearInterval(l),document.querySelector(".container > div:nth-of-type(2)").style.display="none",r(o);else{var a=parseInt(t.style.right);t.style.right=a+n+"px"}},10)}var n=t,o=e;r(o)}var tTop=document.querySelector(".loop"),tBelow=document.querySelector(".below");marquee(tTop,tBelow)</script></body></html>